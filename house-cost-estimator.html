<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>House Construction Cost Estimator</title>
    <meta name="description" content="Estimate house construction costs based on square meters, quality tier, and house type with detailed feature breakdown and blueprint preview.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --bg: #faf7f2;
            --panel: #fffaf3;
            --text: #3b2f2f;
            --muted: #8b6f61;
            --border: #e7ddd2;
            --primary: #6b4423;
            --primary-600: #5a3920;
            --success: #2f855a;
            --danger: #b91c1c;
            --warning: #d4a373;
            --radius: 12px;
            --shadow: 0 10px 25px rgba(59, 47, 47, 0.08);
            --shadow-sm: 0 2px 8px rgba(59, 47, 47, 0.06);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(180deg, #faf7f2 0%, #f5efe6 100%);
            color: var(--text);
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }

        .apps-button {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #fff6ea;
            color: #5a3920;
            border: 1px solid #eadfce;
            padding: 10px 14px;
            border-radius: 999px;
            box-shadow: var(--shadow);
            font-size: 0.9rem;
            text-decoration: none;
            transition: background 0.2s ease, box-shadow 0.2s ease, transform 0.05s ease;
            z-index: 10;
        }

        .apps-button:hover {
            background: #f7efe5;
        }

        .container {
            max-width: 1200px;
            margin: 80px auto 40px;
            padding: 32px;
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            text-align: center;
            color: var(--text);
            margin-bottom: 8px;
            font-size: 2rem;
            font-weight: 700;
            font-family: 'Playfair Display', Georgia, serif;
        }

        .subtitle {
            text-align: center;
            color: var(--muted);
            font-size: 1rem;
            margin-bottom: 32px;
        }

        .input-section {
            background: #fff7ed;
            padding: 24px;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            margin-bottom: 24px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        label {
            font-weight: 600;
            font-size: 0.95rem;
            color: var(--text);
        }

        input[type="number"],
        select {
            width: 100%;
            background: #fff;
            border: 1px solid var(--border);
            padding: 12px 14px;
            font-family: inherit;
            font-size: 0.95rem;
            color: var(--text);
            outline: none;
            border-radius: 10px;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }

        input[type="number"]:focus,
        select:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(107, 68, 35, 0.1);
        }

        .input-hint {
            font-size: 0.85rem;
            color: var(--muted);
        }

        .quality-tiers {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
        }

        .tier-btn {
            background: #fff;
            border: 2px solid var(--border);
            padding: 16px 12px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
        }

        .tier-btn:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }

        .tier-btn.active {
            background: var(--primary);
            color: #fff;
            border-color: var(--primary);
        }

        .tier-name {
            font-weight: 700;
            font-size: 1rem;
            margin-bottom: 4px;
        }

        .tier-price {
            font-size: 0.85rem;
            opacity: 0.8;
        }

        button {
            background: var(--primary);
            color: #fff;
            border: 1px solid var(--primary);
            padding: 14px 24px;
            font-family: inherit;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            border-radius: 10px;
            box-shadow: 0 6px 14px rgba(107, 68, 35, 0.25);
            transition: background 0.15s ease, transform 0.05s ease, box-shadow 0.15s ease;
            width: 100%;
        }

        button:hover {
            background: var(--primary-600);
        }

        button:active {
            transform: translateY(1px);
            box-shadow: none;
        }

        .results-section {
            display: none;
            animation: slideIn 0.4s ease-out;
        }

        .results-section.show {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .cost-summary {
            background: linear-gradient(135deg, #6b4423 0%, #8b5a3c 100%);
            color: #fff;
            padding: 32px;
            border-radius: var(--radius);
            text-align: center;
            margin-bottom: 24px;
            box-shadow: 0 8px 20px rgba(107, 68, 35, 0.3);
        }

        .cost-label {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.9;
            margin-bottom: 8px;
        }

        .cost-value {
            font-size: 3rem;
            font-weight: 700;
            font-family: 'Playfair Display', Georgia, serif;
            line-height: 1.2;
            margin-bottom: 16px;
        }

        .cost-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
            font-size: 0.9rem;
        }

        .breakdown-item {
            background: rgba(255, 255, 255, 0.15);
            padding: 12px;
            border-radius: 8px;
        }

        .breakdown-label {
            opacity: 0.8;
            margin-bottom: 4px;
        }

        .breakdown-value {
            font-weight: 700;
            font-size: 1.1rem;
        }

        .features-section {
            background: #fff;
            padding: 24px;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            margin-bottom: 24px;
        }

        .features-section h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 16px;
            font-family: 'Playfair Display', Georgia, serif;
        }

        .features-grid {
            display: grid;
            gap: 16px;
        }

        .feature-category {
            background: #fafafa;
            padding: 16px;
            border-radius: 8px;
            border-left: 4px solid var(--primary);
        }

        .feature-category h3 {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 8px;
        }

        .feature-category p {
            color: var(--muted);
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .blueprint-section {
            background: #fff;
            padding: 24px;
            border: 1px solid var(--border);
            border-radius: var(--radius);
        }

        .blueprint-section h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 16px;
            font-family: 'Playfair Display', Georgia, serif;
        }

        .blueprint-container {
            background: #f8f9fa;
            border: 2px solid var(--border);
            border-radius: 8px;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 400px;
        }

        canvas {
            max-width: 100%;
            height: auto;
            border: 1px solid #ddd;
            background: #fff;
        }

        .blueprint-info {
            margin-top: 16px;
            padding: 16px;
            background: #fff7ed;
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--muted);
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 60px 10px 20px;
            }

            h1 {
                font-size: 1.5rem;
            }

            .cost-value {
                font-size: 2rem;
            }

            .form-grid,
            .quality-tiers {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <a href="index.html" class="apps-button">‚Üê Apps</a>

    <div class="container">
        <h1>üè† House Construction Cost Estimator</h1>
        <p class="subtitle">Calculate construction costs based on square meters, quality tier, and house type</p>

        <div class="input-section">
            <div class="form-grid">
                <div class="form-group">
                    <label for="squareMeters">Floor Area (sqm)</label>
                    <input 
                        type="number" 
                        id="squareMeters" 
                        placeholder="e.g., 100"
                        min="20"
                        step="1"
                        value="100"
                    >
                    <span class="input-hint">Total floor area in square meters</span>
                </div>

                <div class="form-group">
                    <label for="houseType">House Type</label>
                    <select id="houseType">
                        <option value="bungalow">Bungalow (Single-Story)</option>
                        <option value="two-story">Two-Story House</option>
                        <option value="duplex">Duplex</option>
                        <option value="townhouse">Townhouse</option>
                    </select>
                    <span class="input-hint">Select your preferred house design</span>
                </div>
            </div>

            <label style="margin-bottom: 12px; display: block;">Quality Tier</label>
            <div class="quality-tiers">
                <div class="tier-btn" data-tier="low-end">
                    <div class="tier-name">Low-End</div>
                    <div class="tier-price">‚Ç±15,000/sqm</div>
                </div>
                <div class="tier-btn" data-tier="low">
                    <div class="tier-name">Low</div>
                    <div class="tier-price">‚Ç±20,000/sqm</div>
                </div>
                <div class="tier-btn active" data-tier="mid">
                    <div class="tier-name">Mid</div>
                    <div class="tier-price">‚Ç±30,000/sqm</div>
                </div>
                <div class="tier-btn" data-tier="high">
                    <div class="tier-name">High</div>
                    <div class="tier-price">‚Ç±45,000/sqm</div>
                </div>
                <div class="tier-btn" data-tier="high-end">
                    <div class="tier-name">High-End</div>
                    <div class="tier-price">‚Ç±65,000/sqm</div>
                </div>
            </div>

            <button id="calculateBtn">
                <i class="fas fa-calculator"></i> Calculate Construction Cost
            </button>
        </div>

        <div class="results-section" id="resultsSection">
            <div class="cost-summary">
                <div class="cost-label">Estimated Total Cost</div>
                <div class="cost-value" id="totalCost">‚Ç±0</div>
                <div class="cost-breakdown">
                    <div class="breakdown-item">
                        <div class="breakdown-label">Per Sqm</div>
                        <div class="breakdown-value" id="perSqm">‚Ç±0</div>
                    </div>
                    <div class="breakdown-item">
                        <div class="breakdown-label">Floor Area</div>
                        <div class="breakdown-value" id="floorArea">0 sqm</div>
                    </div>
                    <div class="breakdown-item">
                        <div class="breakdown-label">Quality Tier</div>
                        <div class="breakdown-value" id="qualityTier">-</div>
                    </div>
                    <div class="breakdown-item">
                        <div class="breakdown-label">House Type</div>
                        <div class="breakdown-value" id="houseTypeDisplay">-</div>
                    </div>
                </div>
            </div>

            <div class="features-section">
                <h2>What You'll Get with This Quality Tier</h2>
                <div class="features-grid" id="featuresGrid">
                </div>
            </div>

            <div class="blueprint-section">
                <h2>Simple Floor Plan Preview</h2>
                <div class="blueprint-container">
                    <canvas id="blueprintCanvas" width="600" height="400"></canvas>
                </div>
                <div class="blueprint-info">
                    <i class="fas fa-info-circle"></i> This is a simplified floor plan visualization based on your selected house type and floor area. Actual blueprints will vary based on lot dimensions and specific requirements.
                </div>
            </div>
        </div>
    </div>

    <script>
        const QUALITY_TIERS = {
            'low-end': {
                name: 'Low-End',
                pricePerSqm: 15000,
                features: {
                    'Foundation & Structure': 'Basic concrete foundation, standard hollow blocks, minimal steel reinforcement',
                    'Roofing': 'Galvanized iron (GI) sheets, basic wooden trusses',
                    'Walls & Finishes': 'Cement plaster finish, basic paint, no tiles',
                    'Flooring': 'Plain cement finish throughout',
                    'Windows & Doors': 'Standard aluminum windows, hollow core doors',
                    'Electrical': 'Basic wiring, standard outlets and switches, no provision for appliances',
                    'Plumbing': 'Basic PVC pipes, standard fixtures, minimal bathroom fittings',
                    'Kitchen & Bath': 'Basic concrete counters, simple fixtures, no cabinetry'
                }
            },
            'low': {
                name: 'Low',
                pricePerSqm: 20000,
                features: {
                    'Foundation & Structure': 'Standard concrete foundation, hollow blocks with proper reinforcement',
                    'Roofing': 'Pre-painted metal roofing, engineered trusses',
                    'Walls & Finishes': 'Smooth cement finish, quality paint, basic tiles in wet areas',
                    'Flooring': 'Ceramic tiles in living areas, cement in service areas',
                    'Windows & Doors': 'Aluminum sliding windows, solid wood doors for main entrance',
                    'Electrical': 'Standard wiring with circuit breakers, adequate outlets, basic lighting fixtures',
                    'Plumbing': 'Quality PVC pipes, standard fixtures, basic water heater provision',
                    'Kitchen & Bath': 'Tiled counters, basic cabinetry, standard bathroom fixtures'
                }
            },
            'mid': {
                name: 'Mid',
                pricePerSqm: 30000,
                features: {
                    'Foundation & Structure': 'Reinforced concrete foundation, CHB walls with proper insulation',
                    'Roofing': 'Long-span metal roofing or concrete tiles, quality trusses',
                    'Walls & Finishes': 'Smooth finish with quality paint, tiles in kitchen and bathrooms, accent walls',
                    'Flooring': 'Vitrified tiles or engineered wood in main areas, ceramic tiles elsewhere',
                    'Windows & Doors': 'Powder-coated aluminum windows, solid hardwood doors, decorative main door',
                    'Electrical': 'Complete wiring with safety features, adequate outlets, modern lighting fixtures, provision for major appliances',
                    'Plumbing': 'Quality pipes with hot/cold provisions, branded fixtures, water heater included',
                    'Kitchen & Bath': 'Granite or quartz counters, modular kitchen cabinets, quality bathroom fixtures, shower enclosure'
                }
            },
            'high': {
                name: 'High',
                pricePerSqm: 45000,
                features: {
                    'Foundation & Structure': 'Engineered foundation, reinforced concrete with steel framing options',
                    'Roofing': 'Premium concrete tiles or metal roofing, insulated ceiling, proper ventilation',
                    'Walls & Finishes': 'Premium paint, designer tiles, feature walls, wainscoting in select areas',
                    'Flooring': 'Hardwood or premium tiles throughout, marble in key areas',
                    'Windows & Doors': 'UPVC or premium aluminum windows with screens, solid hardwood doors throughout',
                    'Electrical': 'Smart home-ready wiring, premium fixtures, LED lighting throughout, backup power provision',
                    'Plumbing': 'Premium branded fixtures, instant water heaters, water filtration system',
                    'Kitchen & Bath': 'Premium granite/quartz counters, custom cabinetry, high-end fixtures, bathtub, premium shower system'
                }
            },
            'high-end': {
                name: 'High-End',
                pricePerSqm: 65000,
                features: {
                    'Foundation & Structure': 'Engineered foundation with seismic considerations, steel-reinforced concrete',
                    'Roofing': 'Premium clay or concrete tiles, full insulation, architectural design elements',
                    'Walls & Finishes': 'Designer finishes, imported tiles, feature walls, wood paneling, decorative moldings',
                    'Flooring': 'Imported marble, premium hardwood, designer tiles with intricate patterns',
                    'Windows & Doors': 'Premium UPVC or aluminum-clad wood windows, custom hardwood doors, security features',
                    'Electrical': 'Full smart home automation, premium designer fixtures, LED lighting with controls, solar panel provision, backup generator',
                    'Plumbing': 'Luxury branded fixtures, tankless water heaters, water treatment system, pressure pumps',
                    'Kitchen & Bath': 'Imported stone counters, custom luxury cabinetry, premium appliances, spa-quality bathroom fixtures, jacuzzi, rain shower'
                }
            }
        };

        const HOUSE_TYPES = {
            'bungalow': {
                name: 'Bungalow',
                multiplier: 1.0,
                description: 'Single-story design'
            },
            'two-story': {
                name: 'Two-Story',
                multiplier: 1.15,
                description: 'Two-level design with stairs'
            },
            'duplex': {
                name: 'Duplex',
                multiplier: 1.1,
                description: 'Two units side-by-side'
            },
            'townhouse': {
                name: 'Townhouse',
                multiplier: 1.12,
                description: 'Multi-level narrow design'
            }
        };

        let selectedTier = 'mid';
        const sqmInput = document.getElementById('squareMeters');
        const houseTypeSelect = document.getElementById('houseType');
        const calculateBtn = document.getElementById('calculateBtn');
        const resultsSection = document.getElementById('resultsSection');
        const tierBtns = document.querySelectorAll('.tier-btn');

        tierBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                tierBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                selectedTier = btn.dataset.tier;
            });
        });

        calculateBtn.addEventListener('click', calculate);

        function calculate() {
            const sqm = parseFloat(sqmInput.value);
            const houseType = houseTypeSelect.value;

            if (!sqm || sqm < 20) {
                alert('Please enter a valid floor area (minimum 20 sqm)');
                return;
            }

            const tier = QUALITY_TIERS[selectedTier];
            const houseTypeData = HOUSE_TYPES[houseType];
            const baseCost = sqm * tier.pricePerSqm;
            const totalCost = baseCost * houseTypeData.multiplier;

            document.getElementById('totalCost').textContent = formatCurrency(totalCost);
            document.getElementById('perSqm').textContent = formatCurrency(tier.pricePerSqm);
            document.getElementById('floorArea').textContent = `${sqm} sqm`;
            document.getElementById('qualityTier').textContent = tier.name;
            document.getElementById('houseTypeDisplay').textContent = houseTypeData.name;

            displayFeatures(tier.features);
            drawBlueprint(sqm, houseType);

            resultsSection.classList.add('show');
            resultsSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-PH', {
                style: 'currency',
                currency: 'PHP',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(amount);
        }

        function displayFeatures(features) {
            const featuresGrid = document.getElementById('featuresGrid');
            featuresGrid.innerHTML = '';

            for (const [category, description] of Object.entries(features)) {
                const featureDiv = document.createElement('div');
                featureDiv.className = 'feature-category';
                featureDiv.innerHTML = `
                    <h3><i class="fas fa-check-circle" style="color: var(--success); margin-right: 8px;"></i>${category}</h3>
                    <p>${description}</p>
                `;
                featuresGrid.appendChild(featureDiv);
            }
        }

        function drawBlueprint(sqm, houseType) {
            const canvas = document.getElementById('blueprintCanvas');
            const ctx = canvas.getContext('2d');
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            const padding = 60;
            const maxWidth = canvas.width - (padding * 2);
            const maxHeight = canvas.height - (padding * 2);
            
            const ratio = Math.sqrt(sqm);
            let width, height;
            
            if (houseType === 'bungalow') {
                const aspectRatio = 1.3;
                width = Math.min(maxWidth, ratio * 15 * aspectRatio);
                height = width / aspectRatio;
            } else if (houseType === 'two-story') {
                const aspectRatio = 1.2;
                width = Math.min(maxWidth, ratio * 12 * aspectRatio);
                height = width / aspectRatio;
            } else if (houseType === 'townhouse') {
                const aspectRatio = 0.6;
                width = Math.min(maxWidth * 0.7, ratio * 10 * aspectRatio);
                height = width / aspectRatio;
            } else {
                width = Math.min(maxWidth, ratio * 15);
                height = width * 0.8;
            }
            
            const startX = (canvas.width - width) / 2;
            const startY = (canvas.height - height) / 2;
            
            ctx.strokeStyle = '#2c3e50';
            ctx.lineWidth = 3;
            ctx.strokeRect(startX, startY, width, height);
            
            ctx.fillStyle = '#ecf0f1';
            ctx.fillRect(startX, startY, width, height);
            
            ctx.strokeStyle = '#34495e';
            ctx.lineWidth = 2;
            
            if (houseType === 'bungalow') {
                drawBungalowLayout(ctx, startX, startY, width, height);
            } else if (houseType === 'two-story') {
                drawTwoStoryLayout(ctx, startX, startY, width, height);
            } else if (houseType === 'duplex') {
                drawDuplexLayout(ctx, startX, startY, width, height);
            } else if (houseType === 'townhouse') {
                drawTownhouseLayout(ctx, startX, startY, width, height);
            }
            
            ctx.fillStyle = '#2c3e50';
            ctx.font = 'bold 14px Inter';
            ctx.textAlign = 'center';
            ctx.fillText(`${HOUSE_TYPES[houseType].name} - ${sqm} sqm`, canvas.width / 2, 30);
            
            ctx.font = '12px Inter';
            ctx.fillStyle = '#7f8c8d';
            ctx.fillText('Simplified Floor Plan (Not to Scale)', canvas.width / 2, canvas.height - 20);
        }

        function drawBungalowLayout(ctx, x, y, w, h) {
            ctx.fillStyle = '#3498db20';
            ctx.fillRect(x, y, w * 0.6, h * 0.6);
            ctx.strokeRect(x, y, w * 0.6, h * 0.6);
            drawLabel(ctx, x + w * 0.3, y + h * 0.3, 'Living/Dining');
            
            ctx.fillStyle = '#e74c3c20';
            ctx.fillRect(x + w * 0.6, y, w * 0.4, h * 0.5);
            ctx.strokeRect(x + w * 0.6, y, w * 0.4, h * 0.5);
            drawLabel(ctx, x + w * 0.8, y + h * 0.25, 'Bedroom 1');
            
            ctx.fillStyle = '#e74c3c20';
            ctx.fillRect(x + w * 0.6, y + h * 0.5, w * 0.4, h * 0.5);
            ctx.strokeRect(x + w * 0.6, y + h * 0.5, w * 0.4, h * 0.5);
            drawLabel(ctx, x + w * 0.8, y + h * 0.75, 'Bedroom 2');
            
            ctx.fillStyle = '#2ecc7120';
            ctx.fillRect(x, y + h * 0.6, w * 0.3, h * 0.4);
            ctx.strokeRect(x, y + h * 0.6, w * 0.3, h * 0.4);
            drawLabel(ctx, x + w * 0.15, y + h * 0.8, 'Kitchen');
            
            ctx.fillStyle = '#f39c1220';
            ctx.fillRect(x + w * 0.3, y + h * 0.6, w * 0.3, h * 0.4);
            ctx.strokeRect(x + w * 0.3, y + h * 0.6, w * 0.3, h * 0.4);
            drawLabel(ctx, x + w * 0.45, y + h * 0.8, 'Bath');
        }

        function drawTwoStoryLayout(ctx, x, y, w, h) {
            ctx.fillStyle = '#3498db20';
            ctx.fillRect(x, y, w * 0.5, h * 0.6);
            ctx.strokeRect(x, y, w * 0.5, h * 0.6);
            drawLabel(ctx, x + w * 0.25, y + h * 0.3, 'Living Room');
            
            ctx.fillStyle = '#2ecc7120';
            ctx.fillRect(x + w * 0.5, y, w * 0.5, h * 0.6);
            ctx.strokeRect(x + w * 0.5, y, w * 0.5, h * 0.6);
            drawLabel(ctx, x + w * 0.75, y + h * 0.3, 'Dining/Kitchen');
            
            ctx.fillStyle = '#9b59b620';
            ctx.fillRect(x, y + h * 0.6, w * 0.3, h * 0.4);
            ctx.strokeRect(x, y + h * 0.6, w * 0.3, h * 0.4);
            drawLabel(ctx, x + w * 0.15, y + h * 0.8, 'Stairs');
            
            ctx.fillStyle = '#f39c1220';
            ctx.fillRect(x + w * 0.3, y + h * 0.6, w * 0.7, h * 0.4);
            ctx.strokeRect(x + w * 0.3, y + h * 0.6, w * 0.7, h * 0.4);
            drawLabel(ctx, x + w * 0.65, y + h * 0.8, 'Service Area');
            
            ctx.font = 'italic 11px Inter';
            ctx.fillStyle = '#7f8c8d';
            ctx.fillText('Ground Floor (Bedrooms on 2nd Floor)', x + w * 0.5, y + h + 25);
        }

        function drawDuplexLayout(ctx, x, y, w, h) {
            const midX = x + w / 2;
            
            ctx.strokeStyle = '#e74c3c';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(midX, y);
            ctx.lineTo(midX, y + h);
            ctx.stroke();
            ctx.lineWidth = 2;
            ctx.strokeStyle = '#34495e';
            
            ctx.fillStyle = '#3498db20';
            ctx.fillRect(x, y, w * 0.5, h * 0.5);
            ctx.strokeRect(x, y, w * 0.5, h * 0.5);
            drawLabel(ctx, x + w * 0.25, y + h * 0.25, 'Living A');
            
            ctx.fillStyle = '#e74c3c20';
            ctx.fillRect(x, y + h * 0.5, w * 0.5, h * 0.5);
            ctx.strokeRect(x, y + h * 0.5, w * 0.5, h * 0.5);
            drawLabel(ctx, x + w * 0.25, y + h * 0.75, 'Bedroom A');
            
            ctx.fillStyle = '#3498db20';
            ctx.fillRect(midX, y, w * 0.5, h * 0.5);
            ctx.strokeRect(midX, y, w * 0.5, h * 0.5);
            drawLabel(ctx, midX + w * 0.25, y + h * 0.25, 'Living B');
            
            ctx.fillStyle = '#e74c3c20';
            ctx.fillRect(midX, y + h * 0.5, w * 0.5, h * 0.5);
            ctx.strokeRect(midX, y + h * 0.5, w * 0.5, h * 0.5);
            drawLabel(ctx, midX + w * 0.25, y + h * 0.75, 'Bedroom B');
        }

        function drawTownhouseLayout(ctx, x, y, w, h) {
            ctx.fillStyle = '#3498db20';
            ctx.fillRect(x, y, w, h * 0.3);
            ctx.strokeRect(x, y, w, h * 0.3);
            drawLabel(ctx, x + w * 0.5, y + h * 0.15, 'Living');
            
            ctx.fillStyle = '#2ecc7120';
            ctx.fillRect(x, y + h * 0.3, w, h * 0.25);
            ctx.strokeRect(x, y + h * 0.3, w, h * 0.25);
            drawLabel(ctx, x + w * 0.5, y + h * 0.425, 'Dining');
            
            ctx.fillStyle = '#f39c1220';
            ctx.fillRect(x, y + h * 0.55, w, h * 0.2);
            ctx.strokeRect(x, y + h * 0.55, w, h * 0.2);
            drawLabel(ctx, x + w * 0.5, y + h * 0.65, 'Kitchen');
            
            ctx.fillStyle = '#9b59b620';
            ctx.fillRect(x, y + h * 0.75, w, h * 0.25);
            ctx.strokeRect(x, y + h * 0.75, w, h * 0.25);
            drawLabel(ctx, x + w * 0.5, y + h * 0.875, 'Service');
            
            ctx.font = 'italic 11px Inter';
            ctx.fillStyle = '#7f8c8d';
            ctx.fillText('Ground Floor (Bedrooms upstairs)', x + w * 0.5, y + h + 25);
        }

        function drawLabel(ctx, x, y, text) {
            ctx.save();
            ctx.font = '11px Inter';
            ctx.fillStyle = '#2c3e50';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(text, x, y);
            ctx.restore();
        }

        sqmInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                calculate();
            }
        });
    </script>
</body>
</html>
